<div><script type="@plotdb/block">module.exports={pkg:{extend:{name:"@plotdb/konfig.widget.default",version:"master",path:"base"},dependencies:[{name:"ldcolor",version:"main",path:"ldcolor.min.js",async:false},{name:"@loadingio/ldcolorpicker",version:"main",path:"ldcp.min.js"},{name:"@loadingio/ldcolorpicker",version:"main",path:"ldcp.min.css",global:true}]},init:function(e){var o,t,n,c,l,r,a,i,d=this;o=e.root,t=e.context,n=e.pubsub,c=e.data;l=t.ldview,r=t.ldcolor,a=t.ldcolorpicker;n.fire("init",{get:function(){if(d.ldcp){return r.web(d.ldcp.getColor())}},set:function(e){return d.ldcp.set(e)}});this.ldcp=new a(o,{className:"round shadow-sm round flat compact-palette no-button no-empty-color vertical",palette:(c["default"]?[c["default"]]:[]).concat(c.palette||["#cc0505","#f5b70f","#9bcc31","#089ccc"]),context:c.context||"random",exclusive:c.exclusive!=null?c.exclusive:true});i=new l({ctx:{color:r.web(this.ldcp.getColor())},root:o,handler:{color:function(e){var o,t;o=e.node,t=e.ctx;if(o.nodeName.toLowerCase()==="input"){return o.value=t.color}else{return o.style.backgroundColor=t.color}}}});return this.ldcp.on("change",function(e){var o;o=r.web(e);n.fire("event","change",o);i.setCtx({color:o});return i.render()})}};</script></div>