<div><script type="@plotdb/block">module.exports={pkg:{extend:{name:"@plotdb/konfig.widget.default",version:"master",path:"base"},dependencies:[{name:"ldcolor",version:"main",path:"index.min.js",async:false},{name:"@loadingio/ldcolorpicker",version:"main",path:"index.min.js"},{name:"@loadingio/ldcolorpicker",version:"main",path:"index.min.css",global:true}]},init:function(e){var t,o,n,l,r,c,a,i,d=this;t=e.root,o=e.context,n=e.pubsub,l=e.data;r=o.ldview,c=o.ldcolor,a=o.ldcolorpicker;n.fire("init",{get:function(){if(d.ldcp){return c.web(d.ldcp.getColor())}},set:function(e){return d.ldcp.setColor(e)},default:function(){return d["default"]},meta:function(e){d.ldcp.setPalette(e.palette);if(e.idx!=null){d.ldcp.setIdx(e.idx)}return d["default"]=c.web(e["default"]||d.ldcp.getColor())}});this.ldcp=new a(t,{className:"round shadow-sm round flat compact-palette no-button no-empty-color vertical",palette:(l["default"]?[l["default"]]:[]).concat(l.palette||["#cc0505","#f5b70f","#9bcc31","#089ccc"]),context:l.context||"random",exclusive:l.exclusive!=null?l.exclusive:true});this["default"]=c.web(l["default"]||this.ldcp.getColor());i=new r({ctx:{color:c.web(this.ldcp.getColor())},root:t,handler:{color:function(e){var t,o;t=e.node,o=e.ctx;if(t.nodeName.toLowerCase()==="input"){return t.value=o.color}else{return t.style.backgroundColor=o.color}}}});return this.ldcp.on("change",function(e){var t;t=c.web(e);n.fire("event","change",t);i.ctx({color:t});return i.render()})}};</script></div>