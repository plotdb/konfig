<div><script type="@plotdb/block">module.exports={pkg:{extend:{name:"@plotdb/konfig.widget.default",version:"master",path:"base"},dependencies:[{name:"ldcolor",version:"main",path:"index.min.js",async:false},{name:"@loadingio/ldcolorpicker",version:"main",path:"index.min.js"},{name:"@loadingio/ldcolorpicker",version:"main",path:"index.min.css",global:true}]},init:function(e){var t,n,o,l,c,r,i,a,d=this;t=e.root,n=e.context,o=e.pubsub,l=e.data;c=n.ldview,r=n.ldcolor,i=n.ldcolorpicker;o.fire("init",{get:function(){if(d.ldcp){return r.web(d.ldcp.getColor())}},set:function(e){return d.ldcp.set(e)},meta:function(e){d.ldcp.setPalette(e.palette);if(e.idx!=null){return d.ldcp.setIdx(e.idx)}}});this.ldcp=new i(t,{className:"round shadow-sm round flat compact-palette no-button no-empty-color vertical",palette:(l["default"]?[l["default"]]:[]).concat(l.palette||["#cc0505","#f5b70f","#9bcc31","#089ccc"]),context:l.context||"random",exclusive:l.exclusive!=null?l.exclusive:true});a=new c({ctx:{color:r.web(this.ldcp.getColor())},root:t,handler:{color:function(e){var t,n;t=e.node,n=e.ctx;if(t.nodeName.toLowerCase()==="input"){return t.value=n.color}else{return t.style.backgroundColor=n.color}}}});return this.ldcp.on("change",function(e){var t;t=r.web(e);o.fire("event","change",t);a.setCtx({color:t});return a.render()})}};</script></div>