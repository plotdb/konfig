<div><script type="@plotdb/block">module.exports={pkg:{extend:{name:"@plotdb/konfig.widget.default",version:"master",path:"base"},dependencies:[{name:"@xlfont/load",version:"main",path:"index.min.js"},{name:"@xlfont/choose",version:"main",path:"index.min.js"},{name:"@xlfont/choose",version:"main",path:"index.min.css",global:true}],i18n:{en:{default:"Default"},"zh-TW":{"system default":"預設字型"}}},init:function(e){var n,t,o,r,i,a,u,l,f,s,d;n=e.root,t=e.context,o=e.data,r=e.pubsub,i=e.t;a=t.ldview,u=t.ldcover,l=t.xfc;f={font:null};r.fire("init",{get:function(){var e;if(f.font){return{name:(e=f.font).name,style:e.style,weight:e.weight}}else{return this["default"]()}},set:function(e){f.font=!e?e:typeof e==="string"?{name:e}:{name:e.name,style:e.style,weight:e.weight};return d.render("button")},default:function(){if(typeof f._m["default"]==="string"){return{name:f._m["default"]}}else{return f._m["default"]}},meta:function(e){return f._meta=e},object:function(e){return s.load(e)}});f._m=o;s=new l({root:!n?null:n.querySelector(".ldcv"),initRender:true,meta:"https://xlfont.maketext.io/meta",links:"https://xlfont.maketext.io/links"});s.init();if(!n){return}s.on("choose",function(e){return f.ldcv.set(e)});return d=new a({root:n,init:{ldcv:function(e){var n;n=e.node;f.ldcv=new u({root:n,inPlace:false});return f.ldcv.on("toggle.on",function(){return debounce(50).then(function(){return s.render()})})}},action:{click:{system:function(e){var n,t;n=e.node;f.font=t=null;d.render("button");return r.fire("event","change",t)},button:function(e){var n;n=e.node;return f.ldcv.get().then(function(e){f.font=e?{name:e.name,style:e.style,weight:e.weight}:null;d.render("button");return r.fire("event","change",f.font)})}}},handler:{"font-name":function(e){var n,t,o;n=e.node;t=!f.font?i("default"):f.font.name||i("default");n.innerText=t;return n.setAttribute("class",(o=f.font&&f.font.className)?o:"")}}})}};</script></div>