<div><script type="@plotdb/block">module.exports={pkg:{extend:{name:"@plotdb/konfig.widget.default",version:"master",path:"base"},dependencies:[{name:"ldcolor",version:"main",path:"ldcolor.min.js",async:false},{name:"ldslider",version:"main",path:"ldrs.min.js",async:false},{name:"ldslider",version:"main",path:"ldrs.min.css"},{name:"@loadingio/ldcolorpicker",version:"main",path:"ldcp.min.js",async:false},{name:"@loadingio/ldcolorpicker",version:"main",path:"ldcp.min.css"},{name:"@loadingio/vscroll",version:"main",path:"index.min.js"},{name:"ldpalettepicker",version:"main",path:"index.min.css"},{name:"ldpalettepicker",version:"main",path:"index.min.js",async:false},{name:"ldpalettepicker",version:"main",path:"all.palettes.js"}]},init:function(e){var n,t,l,a,r,i,o,s,p,d,c;n=e.root,t=e.context,l=e.pubsub,a=e.data,r=e.i18n;i=t.ldview,o=t.ldcolor,s=t.ldpp,p=t.ldcover;d={pal:a.palette||s.defaultPalette};l.fire("init",{get:function(){return d.pal},set:function(e){d.pal=e;return c.render()}});n=ld$.find(n,"[plug=config]",0);c=new i({root:n,action:{click:{ldp:function(){var e;if(!d.ldpp){e=Array.isArray(a.palettes)?a.palettes:typeof a.palettes==="string"?s.get(a.palettes):s.get("all");d.ldpp=new s({root:c.get("ldcv"),ldcv:true,useClusterizejs:true,i18n:r,palette:a.palette,palettes:e,useVscroll:true})}return d.ldpp.get().then(function(e){if(!e){return}d.pal=e;c.render("color");return l.fire("event","change",d.pal)})}}},handler:{color:{list:function(){var e;return(e=d.pal||(d.pal={})).colors||(e.colors=[])},key:function(e){return o.web(e)},handler:function(e){var n,t;n=e.node,t=e.data;return n.style.backgroundColor=o.web(t)}}}});return c.render()}};</script></div>