<div><script type="@plotdb/block">module.exports={pkg:{extend:{name:"@plotdb/konfig.widget.default",version:"master",path:"base"},dependencies:[{name:"ldbutton",version:"main",path:"index.min.css",global:true},{name:"ldcolor",version:"main",path:"index.min.js",async:false},{name:"ldslider",version:"main",path:"index.min.js",async:false},{name:"ldslider",version:"main",path:"index.min.css",global:true},{name:"@loadingio/ldcolorpicker",version:"main",path:"index.min.js",async:false},{name:"@loadingio/ldcolorpicker",version:"main",path:"index.min.css"},{name:"@loadingio/vscroll",version:"main",path:"index.min.js"},{name:"ldpalettepicker",version:"main",path:"index.min.css",global:true},{name:"ldpalettepicker",version:"main",path:"index.min.js"}]},init:function(e){var n,t,r,a,i,l,o,s,d,p,c,u;n=e.root,t=e.context,r=e.pubsub,a=e.data,i=e.i18n,l=e.manager;o=t.ldview,s=t.ldcolor,d=t.ldpp,p=t.ldcover;c={pal:a["default"]||d.defaultPalette};r.fire("init",{get:function(){return c.pal},set:function(e){c.pal=e;return u.render()}});n=ld$.find(n,"[plug=config]",0);u=new o({root:n,action:{click:{ldp:function(){return Promise.resolve().then(function(){var e,n;if(c.ldpp){return}e=Array.isArray(a.palettes)?a.palettes:typeof a.palettes==="string"?d.get(a.palettes):null;n=e?Promise.resolve(e):l.rescope.load([{name:"ldpalettepicker",version:"main",path:"index.min.js",async:false},{name:"ldpalettepicker",version:"main",path:"all.palettes.js"}]).then(function(e){var n;n=e.ldpp;return n.get("all")});return n.then(function(e){return c.ldpp=new d({root:u.get("ldcv"),ldcv:{inPlace:false},useClusterizejs:true,i18n:i,palette:a.palette,palettes:e,useVscroll:true})})}).then(function(){return c.ldpp.get()}).then(function(e){if(!e){return}c.pal=e;u.render("color");return r.fire("event","change",c.pal)})}}},handler:{color:{list:function(){var e;return(e=c.pal||(c.pal={})).colors||(e.colors=[])},key:function(e){return s.web(e)},handler:function(e){var n,t;n=e.node,t=e.data;return n.style.backgroundColor=s.web(t)}}}});return u.render()}};</script></div>