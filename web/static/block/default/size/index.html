<div><script type="@plotdb/block">module.exports={pkg:{extend:{name:"@plotdb/konfig.widget.default",version:"master",path:"base"},dependencies:[{name:"ldslider",version:"main",path:"index.min.css"},{name:"ldslider",version:"main",path:"index.min.js"}],i18n:{en:{unit:"Unit"},"zh-TW":{unit:"單位"}}},init:function(t){var n,e,r,i,u,a,o,l,f,d,s=this;n=t.root,e=t.context,r=t.data,i=t.pubsub;u=e.ldview,a=e.ldslider;o={};this._meta={};l=function(n){var t;o.unit=n.name;if(n.from!=null){console.warn("[@plotdb/konfig] ctrl should use `default` for default value.\nplease update your config to comply with it.")}if(n["default"]!=null){if(typeof n["default"]==="object"){import$(n,n["default"])}else if(typeof n["default"]==="number"){n.from=n["default"]}}o.ldrs.setConfig((t=Object.fromEntries(["min","max","step","from","to","exp","limitMax","range","label"].map(function(t){return[t,n[t]]}).filter(function(t){return t[1]!=null})),t.unit=n.name||"",t));return d.render()};f=function(t){s._meta=JSON.parse(JSON.stringify(t));return l(t.units[0])};i.fire("init",{get:function(){return{value:o.ldrs.get(),unit:o.unit}},set:function(t){if(typeof o){o.ldrs.set(t.value);return o.unit=t.unit}else{o.ldrs.set(t);return o.unit=(s._meta["default"]||{}).unit||s._meta.units[0].name}},default:function(){return s._meta["default"]},meta:function(t){return f(t)},render:function(){return o.ldrs.update()}});d=new u({root:n,initRender:false,action:{click:{switch:function(){return o.ldrs.edit()}}},init:{ldrs:function(t){var n;n=t.node;o.root=n;o.ldrs=new a({root:n});return o.ldrs.on("change",function(t){return i.fire("event","change",t)})}},text:{picked:function(){return o.unit}},handler:{unit:{list:function(){return s._meta.units},key:function(t){return t.name},action:{click:function(t){var n;n=t.data;return l(n)}},text:function(t){var n;n=t.data;return n.name}}}});return d.init().then(function(){return f(r)})}};function import$(t,n){var e={}.hasOwnProperty;for(var r in n)if(e.call(n,r))t[r]=n[r];return t}</script></div>