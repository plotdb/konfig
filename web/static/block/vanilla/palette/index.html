<div><div ld-scope plug="config"><div class="ldp" ld="ldp"><div class="colors"><div class="color" ld-each="color"></div></div></div><div class="ldcv default-size" ld="ldcv"><div class="base"><div class="inner ldpp"><div class="ldpp" ldpp><div class="header"><div class="flex-grow-1 mr-4"><div class="input-group"><input class="form-control" data-tag="search"><div class="input-group-append"><div class="btn btn-outline-dark dropdown-toggle" data-toggle="dropdown"><span t="filter">&nbsp;</span></div><div class="dropdown-menu shadow-sm" data-tag="categories"><a class="dropdown-item" href="#" data-cat=""><span t="all"></span></a><div class="dropdown-divider"></div><a class="dropdown-item" href="#" data-cat="artwork"><span t="artwork"></span></a><a class="dropdown-item" href="#" data-cat="brand"><span t="brand"></span></a><a class="dropdown-item" href="#" data-cat="concept"><span t="concept"></span></a><div class="dropdown-divider"></div><a class="dropdown-item" href="#" data-cat="gradient"><span t="gradient"></span></a><a class="dropdown-item" href="#" data-cat="qualitative"><span t="qualitative"></span></a><a class="dropdown-item" href="#" data-cat="diverging"><span t="diverging"></span></a><a class="dropdown-item" href="#" data-cat="colorbrew"><span t="colorbrew"></span></a></div></div></div></div><div style="white-space:nowrap"><div class="btn btn-primary" data-panel="view"><span t="view"></span></div><div class="btn btn-text" data-panel="mypal"><span t="my pals"></span></div><div class="btn btn-text" data-panel="edit"><span t="edit"></span></div></div></div><div class="panels"><div class="panel active clusterize-scroll" data-panel="view" style="max-height:600px"><div class="inner clusterize-content"></div></div><div class="panel clusterize-scroll" data-panel="mypal" style="max-height:600px"><div class="inner clusterize-content"></div><div class="btn btn-primary btn-block ld-over-inverse btn-load"><span t="load more"></span><div class="ld ldld ldbtn sm"></div></div></div><div class="panel" data-panel="edit"><div class="ldp"><div class="name"></div><div class="colors"></div></div><div class="edit"><div class="inner"><div class="row"><div class="col-sm-6"><div class="ldcolorpicker no-border no-palette"></div></div><div class="col-sm-6"><div class="row mb-2"><div class="col-sm-8"><select class="form-control form-control-local-sm" value="rgb"><option value="rgb">RGB</option><option value="hsl">HSL</option><option value="hcl">HCL</option></select></div><div class="col-sm-4 pl-0"><input class="form-control form-control-local-sm value" placeholder="Hex Value" data-tag="hex" style="margin:0"></div></div><div class="row config active" data-tag="rgb"><div class="col-sm-8"><div class="label-group"><span>Red</span></div><input class="ldrs sm" data-tag="rgb-r"><div class="label-group"><span>Green</span></div><input class="ldrs sm" data-tag="rgb-g"><div class="label-group"><span>Blue</span></div><input class="ldrs sm" data-tag="rgb-b"></div><div class="col-sm-4"><input class="value form-control form-control-local-sm" data-tag="rgb-r"><input class="value form-control form-control-local-sm" data-tag="rgb-g"><input class="value form-control form-control-local-sm" data-tag="rgb-b"></div></div><div class="row config" data-tag="hsl"><div class="col-sm-8"><div class="label-group"><span>Hue</span></div><input class="ldrs sm" data-tag="hsl-h"><div class="label-group"><span>Saturation</span></div><input class="ldrs sm" data-tag="hsl-s"><div class="label-group"><span>Luminance</span></div><input class="ldrs sm" data-tag="hsl-l"></div><div class="col-sm-4"><input class="value form-control form-control-local-sm" data-tag="hsl-h"><input class="value form-control form-control-local-sm" data-tag="hsl-s"><input class="value form-control form-control-local-sm" data-tag="hsl-l"></div></div><div class="row config" data-tag="hcl"><div class="col-sm-8"><div class="label-group"><span>Hue</span></div><input class="ldrs sm" data-tag="hcl-h"><div class="label-group"><span>Chroma</span></div><input class="ldrs sm" data-tag="hcl-c"><div class="label-group"><span>Luminance</span></div><input class="ldrs sm" data-tag="hcl-l"></div><div class="col-sm-4"><input class="value form-control form-control-local-sm" data-tag="hcl-h"><input class="value form-control form-control-local-sm" data-tag="hcl-c"><input class="value form-control form-control-local-sm" data-tag="hcl-l"></div></div></div></div></div></div><div class="foot"><hr><div class="float-right"><div class="btn btn-primary mr-2" data-action="use"><span t="use this palette"></span></div><div class="btn btn-outline-secondary ld-ext-right" data-action="save"><span t="save as asset"></span><div class="ld ldld ldbtn sm"></div></div></div><div class="btn btn-outline-secondary" data-action="undo"><span t="undo"></span> <i class="i-undo"></i></div></div></div></div></div></div></div></div></div><script type="@plotdb/block">(function(it){
  return it();
})(function(){
  var blockFactory;
  blockFactory = {
    pkg: {
      extend: {
        name: '@plotdb/konfig.widget.default',
        version: 'master',
        path: 'base'
      },
      dependencies: [
        {
          url: "/assets/lib/ldcolor/main/ldcolor.js",
          async: false
        }, {
          url: "/assets/lib/ldslider/main/ldrs.css",
          type: 'css'
        }, {
          url: "/assets/lib/ldslider/main/ldrs.js",
          async: false
        }, {
          url: "/assets/lib/@loadingio/ldcolorpicker/main/ldcp.css",
          type: 'css'
        }, {
          url: "/assets/lib/@loadingio/ldcolorpicker/main/ldcp.js",
          async: false
        }, {
          url: "/assets/lib/ldpalettepicker/main/index.min.css",
          type: 'css'
        }, {
          url: "/assets/lib/ldpalettepicker/main/index.min.js"
        }
      ]
    },
    init: function(arg$){
      var root, context, pubsub, data, ldview, ldcolor, ldpp, ldcover, obj, view;
      root = arg$.root, context = arg$.context, pubsub = arg$.pubsub, data = arg$.data;
      ldview = context.ldview, ldcolor = context.ldcolor, ldpp = context.ldpp, ldcover = context.ldcover;
      obj = {
        pal: null
      };
      pubsub.fire('init', {
        data: data,
        get: function(){
          return obj.pal;
        },
        set: function(it){
          obj.pal = it;
          return view.render();
        }
      });
      root = ld$.find(root, '[plug=config]', 0);
      view = new ldview({
        root: root,
        action: {
          click: {
            ldp: function(){
              return obj.ldpp.get().then(function(it){
                if (!it) {
                  return;
                }
                obj.pal = it;
                view.render('color');
                return pubsub.fire('event', 'change', obj.pal);
              });
            }
          }
        },
        init: {
          ldcv: function(arg$){
            var node;
            node = arg$.node;
            obj.ldpp = new ldpp({
              root: node,
              ldcv: true
            });
            return obj.pal = obj.ldpp.ldpe.getPal();
          }
        },
        handler: {
          color: {
            list: function(){
              var ref$;
              return (ref$ = obj.pal || (obj.pal = {})).colors || (ref$.colors = []);
            },
            key: function(it){
              return ldcolor.web(it);
            },
            handler: function(arg$){
              var node, data;
              node = arg$.node, data = arg$.data;
              return node.style.backgroundColor = ldcolor.web(data);
            }
          }
        }
      });
      return setTimeout(function(){
        return view.render();
      }, 2000);
    }
  };
  return blockFactory;
});</script></div>