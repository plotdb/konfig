function import$(t,n){var r={}.hasOwnProperty;for(var i in n)r.call(n,i)&&(t[i]=n[i]);return t}var bmgr,ctrl,configEditor;bmgr=new block.manager,(ctrl=function(t){return null==t&&(t={}),this.opt=import$({},t),this.evtHandler={},this}).prototype=import$(Object.create(Object.prototype),{set:function(){},get:function(){},on:function(t,n){var r;return((r=this.evtHandler)[t]||(r[t]=[])).push(n)},fire:function(t){var n,r,i,e,o,u,s,f=[];for(r=[],i=1,e=arguments.length;i<e;++i)r.push(arguments[i]);for(n=r,i=0,u=(o=this.evtHandler[t]||[]).length;i<u;++i)s=o[i],f.push(s.apply(this,n));return f}}),(configEditor=function(t){var n=this;return null==t&&(t={}),this.opt=import$({},t),this.def=t.def,this.evtHandler={},this.init=proxise(function(){return n.inited?Promise.resolve():n.initing?void 0:n._init()}),this}).prototype=import$(Object.create(Object.prototype),{on:function(t,n){var r;return((r=this.evtHandler)[t]||(r[t]=[])).push(n)},fire:function(t){var n,r,i,e,o,u,s,f=[];for(r=[],i=1,e=arguments.length;i<e;++i)r.push(arguments[i]);for(n=r,i=0,u=(o=this.evtHandler[t]||[]).length;i<u;++i)s=o[i],f.push(s.apply(this,n));return f},_init:function(){var t=this;return this.initing=!0,Promise.resolve().finally(function(){return this.initing=!1}).then(function(){return t.inited=!0})},get:function(){},set:function(){},parse:function(){var t,n=this;return(t=function(r){var i,e;for(i in r)if(e=r[i]){if("group"===e.type)return t(e);n.ctrls[i]=new ctrl(e)}})(this.def)}});