<!DOCTYPE html><html><head><link rel="stylesheet" type="text/css" href="/assets/lib/bootstrap/main/dist/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/@loadingio/bootstrap.ext/main/index.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/ldcover/main/index.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/ldiconfont/main/index.min.css"></head><body><div class="w-640 mx-auto my-4"><div class="font-weight-bold">Demonstration of a Recursive Konfig Panel</div></div><div class="w-640 mx-auto my-4 rounded border shadow"><div class="border-bottom z-fixed d-flex g-2 bg-light sticky p-4 shadow-sm" style="top:0;left:0;width:100%"><div class="dropdown" ld-scope="" ld-each="lv"><div class="dropdown-toggle d-inline-block clickable" ld="dropdown" data-toggle="dropdown"><span ld="name"></span></div><i class="i-dart-right ml-2" ld="icon"></i><div class="dropdown-menu shadow-sm"><div class="dropdown-item" ld-each="picker"></div></div></div><div ld-each="lv"></div></div><div class="m-4" ld="konfig"><div ld-scope="" ld="template"><div class="mb-2 pb-2 font-weight-bold" ld="name" style="font-size:1.25em"><span ld-each="bread"><span class="text-underline" ld="text"></span><i class="i-dart-right mx-2 text-sm" ld="icon"></i></span></div><div style="display:grid;grid-template-columns:repeat(2,1fr);gap:1.5em"><div class="mb-4" ld-each="ctrl"></div></div><div class="pb-2"></div><div ld-each="tab" style="scroll-margin-top:5em"></div><div class="pb-5"></div></div></div></div><script type="text/javascript" src="/assets/lib/bootstrap.native/main/dist/bootstrap-native-v4.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldcolor/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldcover/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@loadingio/ldquery/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@loadingio/debounce.js/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@loadingio/vscroll/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/proxise/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldview/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/semver/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/rescope/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/csscope/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/datadom/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldpalettepicker/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/block/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/konfig/dev/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/konfig/dev/konfig.widget.bootstrap.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/chart/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/chart/main/utils/config.min.js" defer></script><script type="module">var obj,_,view,manager,io,myview,kfg;obj={nodemap:new WeakMap};_=function(t){return(t.parent?_(t.parent.tab):[]).concat([t])};view=new ldview({root:document.body,handler:{lv:{list:function(){var t;t=obj.active?_(obj.active.tab):[];return t.filter(function(t){return t.name})},key:function(t){return t.id},view:{init:{dropdown:function(t){var e;e=t.node;return new BSN.Dropdown(e)}},text:{name:function(t){var e;e=t.ctx;return(e.name||"")+" "}},handler:{icon:function(t){var e,n;e=t.node,n=t.ctx;return e.classList.toggle("d-none",n===obj.active.tab)},picker:{list:function(t){var e;e=t.ctx;if(e.depth===0){return obj.alltabs.map(function(t){return t}).filter(function(t){return t.tab.depth===0})}else{return((e.parent||{}).tabs||[]).map(function(t){return t})}},key:function(t){return t.tab.id},view:{text:{"@":function(t){var e,n;e=t.node,n=t.ctx;return n.tab.name}},action:{click:{"@":function(t){var e,n,r;e=t.node,n=t.ctx;if(!(r=obj.nodemap.get(n))){return}return r.scrollIntoView({behavior:"smooth",block:"start"})}}}}}}}}}});manager=new block.manager({registry:function(t){var e,n,r,i,o;e=t.name,n=t.version,r=t.path,i=t.type;if(i==="block"){o=/^@plotdb\/konfig.widget.(.+)$/.exec(e);return!o?"/block/"+e+"/"+n+"/index.html":"/block/"+o[1]+"/"+r+"/index.html"}else{return"/assets/lib/"+e+"/"+n+"/"+(r||"index.min.js")}}});io={visible:[],cb:function(t){var e;t.filter(function(t){return t.isIntersecting}).map(function(t){var e;if(!~(e=io.visible.indexOf(t.target))){return io.visible.push(t.target)}});t.filter(function(t){return!t.isIntersecting}).map(function(t){var e;if(~(e=io.visible.indexOf(t.target))){return io.visible.splice(e,1)}});t=io.visible.map(function(t){var e,n,r;e=t.getBoundingClientRect();n=window.innerHeight/4;r=Math.min(Math.abs(n-e.y),Math.abs(n-(e.y+e.height)));return{node:t,box:e,delta:r}});t.sort(function(t,e){return t.delta-e.delta});if(!(e=t[0])){return}obj.active=e.node._ctx;return view.render("lv")},opt:{threshold:[0,1,2,3,4,5,6,7,8,9,10].map(function(t){return t/10})}};io.obj=new IntersectionObserver(io.cb,io.opt);myview=function(t){var e,n,r,i,o;e=t.root,n=t.ctrls,r=t.tabs;console.log("myview render: ",r);obj.alltabs=r;r=r.filter(function(t){return!t.tab.depth});if(obj.view){return{render:function(){obj.view.ctx({ctrls:[],tabs:r,tab:{}});return obj.view.render()}}}if(obj._template){i=obj._template}else{i=ld$.find(e,"[ld=template]",0);i.parentNode.removeChild(i);i.removeAttribute("ld-scope");obj._template=i}o={};obj.view=new ldview(import$({root:e,ctx:{ctrls:[],tabs:r,tab:{}},initRender:false},(o.template=i,o.init={"@":function(t){var e,n;e=t.node,n=t.ctx;obj.nodemap.set(n,e);e._ctx=n;if(n.tab.id){return io.obj.observe(e)}}},o.handler={name:{handler:{"@":function(t){var e,n;e=t.node,n=t.ctxs;return e.classList.toggle("d-none",!(n[0].tab.name||n[0].tab.id))},bread:{list:function(t){var e;e=t.ctxs;return _(e[0].tab)},key:function(t){return t.id},view:{handler:{"@":function(t){var e,n;e=t.node,n=t.ctx;return e.classList.toggle("d-none",!(n.name||n.id))},icon:function(t){var e,n,r;e=t.node,n=t.ctx,r=t.ctxs;if(r[1]){return e.classList.toggle("d-none",n===r[1].tab)}}},text:{text:function(t){var e;e=t.ctx;return e.name}}}}}},tab:{list:function(t){var e;e=t.ctx;return e.tabs},key:function(t){return t.key},view:o},ctrl:{list:function(t){var e;e=t.ctx;return e.ctrls},key:function(t){return t.key},view:{init:{"@":function(t){var e,n;e=t.node,n=t.ctx;return e.appendChild(n.root)}},handler:{"@":function(t){var e,n;e=t.node,n=t.ctx;return n.itf.render()}}}}},o)));return{render:function(){return obj.view.render()}}};kfg=new konfig({root:view.get("konfig"),debounce:false,useBundle:false,manager:manager,typemap:function(t){return{name:"@plotdb/konfig.widget.bootstrap",version:"master",path:t}},view:myview,autotab:true});kfg.init().then(function(){var t;t={simple:{axis:{enabled:{type:"boolean"},tick:{color:{type:"color",default:"#f00"},font:{type:"font"},size:{type:"number"}},caption:{text:{type:"text",default:"caption"},color:{type:"color",default:"#f00"},font:{type:"font"},size:{type:"number"}}}},chart:import$(import$({},chart.utils.config.preset["default"]),{xaxis:chart.utils.config.preset.axis,yaxis:chart.utils.config.preset.axis,legend:chart.utils.config.preset.legend})};console.log(t.chart);kfg.meta(t.chart);return kfg.on("change",function(t){return console.log(t)})});function import$(t,e){var n={}.hasOwnProperty;for(var r in e)if(n.call(e,r))t[r]=e[r];return t}</script></body></html>