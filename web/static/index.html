<!DOCTYPE html><html><head><link rel="stylesheet" type="text/css" href="/assets/lib/bootstrap/main/dist/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/@loadingio/bootstrap.ext/main/index.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/ldcover/main/index.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/ldiconfont/main/index.min.css"><link rel="stylesheet" type="text/css" href="/css/index.css"><style type="text/css">html,body{width:100%;height:100%;padding:0;margin:0}.config{margin:0 0 1em;flex:1 1 200px;height:3em}div[ld=kfg-alt] div[block] .ldrs .hint{padding:4px 4px 3px}div[ld=kfg-alt] div[block] .ldrs .hint{top:1.785em}div[ld=kfg-alt] div[block] .ldrs .hint.p{top:1.5em}div[ld=kfg] div[block] .ldrs .hint{padding:4px}</style></head><body><div class="w-100 h-100 p-4"><div class="d-flex flex-column h-100" style="gap:1em"><div><div class="btn btn-outline-secondary" ld="get-default">get default</div></div><div class="border rounded shadow-sm p-4" ld="kfg-alt"><div ld-each="tab"><div ld-each="ctrl"></div></div></div><div class="d-flex flex-grow-1" style="gap:1em;overflow:hidden"><div class="d-flex flex-wrap h-100" ld="kfg" style="gap:1em"><div class="tab p-2 border rounded shadow-sm h-100" ld-each="tab" style="min-width:15em;overflow-y:scroll"><div class="text-center font-weight-bold p-1 mb-4 bg-secondary text-light rounded" ld="name"></div><div class="config mb-4" ld-each="ctrl"></div></div></div><div class="flex-grow-1"><div class="rounded shadow-sm border p-4 w-100 h-100" id="sample"></div></div></div></div></div><div class="ldcv default-size"><div class="base"><div class="inner"><h5>Dummy choices in a dummy popup</h5><div class="d-flex justify-content-around"><div class="btn btn-outline-secondary" data-ldcv-set="yes">Yes</div><div class="btn btn-outline-secondary" data-ldcv-set="no">No</div></div></div></div></div><script type="text/javascript" src="/assets/lib/bootstrap.native/main/dist/bootstrap-native-v4.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldcolor/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldcover/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@loadingio/ldquery/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@loadingio/debounce.js/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@loadingio/vscroll/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/proxise/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldview/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/semver/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/rescope/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/csscope/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/datadom/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldpalettepicker/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/block/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/konfig/dev/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/konfig/dev/konfig.widget.bootstrap.js" defer></script><script type="module">(function(e){return e.apply({})})(function(){var l,t,r,i,u=this;l={_:[],log:function(e){return this._.push([Date.now(),e||""])},stat:function(){var e,t,n,a=[];for(e=1,t=this._.length;e<t;++e){n=e;a.push(console.log((n+"").padStart(3," ")+" / "+(this._[n][0]-this._[n-1][0]+"").padStart(5," ")+"ms"+(this._[n][1]||this._[n-1][1]?" / "+(this._[n-1][1]||"-")+" to "+(this._[n][1]||"-"):"")))}return a}};l.log();t={ldcv:new ldcover({root:ld$.find(".ldcv",0)}),data:"yes"};this.meta={palette:{name:"color brewer",type:"palette",hint:"pick your favorite palette.",tab:"color",palettes:"colorbrewer"},allpal:{name:"Default Palettes",type:"palette",hint:"pick your favorite palette.",tab:"color"},number:{name:"number",type:"number",range:false,min:10,max:64,step:1,default:24},boolean:{name:"boolean",type:"boolean",default:true},button:{name:"button",type:"button",text:"action",default:0,cb:function(){console.log("clicked");return Math.random()}},color:{name:"color",type:"color",tab:"color",palette:["#e15b64","#f8b26a","#abbd81","#64afd2"],default:"#000"},color2:{name:"color2",type:"color",tab:"color",palette:["#e15b64","#f8b26a","#abbd81","#64afd2"],context:"c",default:"currentColor",currentColor:true},color3:{name:"color3",type:"color",tab:"color",palette:["#e15b64","#f8b26a","#abbd81","#64afd2"],context:"c"},choice:{name:"choice",type:"choice",values:["left","right","center"],default:"left"},text:{name:"text",type:"text",default:"default text",values:[{name:"Sample 1",value:"s1"},{name:"Sample 2",value:"s2"}]},format:{name:"format",type:"format",default:"default format"},paragraph:{name:"paragraph",type:"paragraph",default:"some points\n1. multiple lines. \n2. fit into ui."},upload:{name:"upload",type:"upload",multiple:true},font:{name:"font",type:"font"},popup:{name:"popup",type:"popup",popup:{get:function(){return t.ldcv.get()},default:function(){return t.data},data:function(e){return Promise.resolve().then(function(){if(e!=null){return t.data=e}else{return t.data}})}}}};this.manager=new block.manager({registry:function(e){var t,n,a,o;t=e.name,n=e.version,a=e.path,o=e.type;if(o==="block"){return"/block/"+t+"/"+n+"/"+(a||"index.html")}else{return"/assets/lib/"+t+"/"+n+"/"+(a||"")}}});r={root:ld$.find("[ld=kfg]",0),debounce:false,meta:this.meta,view:"default",manager:this.manager,typemap:function(e){return{name:"@plotdb/konfig.widget.bootstrap",version:"master",path:e}}};i={root:ld$.find("[ld=kfg-alt]",0),debounce:false,meta:{size:{type:"number",min:10,max:32,step:1,default:14},size2:{type:"quantity",name:"size with unit",default:"1em",units:[{name:"em",min:0,max:10,step:.01,default:1},{name:"px",min:0,max:1024,step:1,default:16},{name:"%",min:0,max:100,step:.1,default:20}]}},view:"default",manager:this.manager,typemap:function(e){return{name:"@plotdb/konfig.widget.bootstrap",version:"master",path:e}}};if(true){this.manager=new block.manager({registry:function(e){var t,n,a,o,l;t=e.name,n=e.version,a=e.path,o=e.type;if(o==="block"){l=/^@plotdb\/konfig.widget.(.+)$/.exec(t);return!l?"/block/"+t+"/"+n+"/index.html":"/block/"+l[1]+"/"+a+"/index.html"}else{return"/assets/lib/"+t+"/"+n+"/"+(a||"index.min.js")}}});r.useBundle=false;r.manager=this.manager;i.useBundle=false;i.manager=this.manager}l.log("before debundling");return this.manager.debundle({url:"/assets/bundle/index.html"}).then(function(){var a,e,t,n,o;l.log("after debundling");a=new konfig(r);a.on("change",function(e){return u.update(e)});e=a.init().then(function(e){var t,n;console.log("@plotdb/konfig cfg inited with init config:",e);t=a._ctrllist.filter(function(e){return e.meta.type==="color"})[0];return t.itf.meta((n=t.meta,n.palette={colors:["#f00","#0f0","#00f"]},n))});t=new konfig(i);t.on("change",function(e){return ld$.find("[ld=kfg]",0).style.fontSize=e.size2+""});n=t.init().then(function(){return console.log("@plotdb/konfig cfg-alt inited.")});o=ld$.find("#sample",0);u.val={};u.update=function(e){var t;u.val=e;o.innerText=(u.val.text||"")+"\n"+(u.val.paragraph||"");t=o.style;t.color=ldcolor.web(u.val.color||"#000");t.fontFamily=u.val.font||"sans serif";t.fontSize=u.val.number+"px";t.whiteSpace="pre-line";t.textAlign=u.val.choice||"left";if(u.val.font){o.style.fontFamily=u.val.font.name;console.log(u.val.font);a.obj().then(function(e){return console.log(">",e)});return a["interface"](r.meta.font).then(function(e){e==null&&(e={});return e.object(u.val.font)}).then(function(e){return e.sync(o.innerText)})}};ld$.find(".btn[ld=get-default]",0).addEventListener("click",function(){console.log("cfg default: ",a["default"]());return console.log("cfg-alt default: ",t["default"]())});return Promise.all([e,n]).then(function(){return l.log("wait for initialization")}).then(function(){return debounce(1e3)}).then(function(){var e;l.log("after debounce");e=a.get();console.log(e);e.choice="right";a.set(e);return a.render()}).then(function(){l.log("update config");console.log("performance profile");return l.stat()})})});</script></body></html>